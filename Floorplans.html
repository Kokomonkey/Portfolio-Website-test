<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floorplans | [DOUWEDOESDESIGN]</title>
    <style>
        /* --- CSS VARIABLES & RESET --- */
        :root {
            --bg-color: #000000;
            --accent-color: #ffffff;
            --alert-color: #ff0000;
            --ui-font: 'Courier New', Courier, monospace;
            
            /* SIZING LOGIC - PORTRAIT */
            /* Height is the primary constraint now to prevent text overlap */
            --container-height: 65vh; 
            --container-ratio: 0.707; /* Portrait A-Series Ratio (1 / 1.414) */
            --container-width: calc(var(--container-height) * var(--container-ratio));
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-color);
            color: var(--accent-color);
            font-family: var(--ui-font);
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- BACK BUTTON --- */
        .back-btn {
            position: fixed;
            top: 40px;
            left: 40px;
            text-decoration: none;
            border: 2px solid var(--accent-color);
            background-color: var(--bg-color);
            color: var(--accent-color);
            padding: 10px 20px;
            font-weight: bold;
            text-transform: uppercase;
            z-index: 100;
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background-color: var(--accent-color);
            color: var(--bg-color);
        }

        /* --- INFO PANEL --- */
        .info-panel {
            position: absolute;
            right: 18%; /* Pushed further left to avoid slider overlap */
            width: 280px;
            text-align: left;
            z-index: 10;
        }

        h2 {
            font-size: 1.8rem;
            text-transform: uppercase;
            border-bottom: 2px solid var(--alert-color);
            margin-bottom: 15px;
            display: block;
        }

        p {
            font-size: 0.85rem;
            line-height: 1.6;
            color: #aaaaaa;
        }

        /* --- CENTRAL VIEWPORT (PORTRAIT) --- */
        .plan-viewport {
            width: var(--container-width);
            height: var(--container-height);
            border: 1px solid var(--alert-color);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            /* Subtle drafting grid */
            background-image: 
                linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 30px 30px;
        }

        .plan-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            display: none;
            padding: 20px;
        }

        .plan-layer.active {
            display: flex;
            flex-direction: column;
            animation: layerShift 0.3s ease-out forwards;
        }

        .placeholder-box {
    width: 100%;
    height: 100%;
    border: 1px dashed #333;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden; /* ensures no spillover */
}

.placeholder-box img {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain; /* scales image while preserving aspect ratio */
}


        /* --- VERTICAL SLIDER SYSTEM --- */
        .slider-wrapper {
            position: fixed;
            right: 5vw;
            height: 50vh;
            display: flex;
            flex-direction: row; /* Labels next to slider */
            align-items: center; /* Vertical alignment of items */
            gap: 20px;
        }

        .slider-labels {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Spreads labels across the 50vh height */
            text-align: right;
            padding: 10px 0;
            margin-left: 20px;
        }

        .label {
            font-weight: bold;
            font-size: 1.2rem;
            color: #333;
            transition: color 0.3s;
        }

        .label.active {
            color: var(--alert-color);
        }

        /* Vertical Slider Styling */
        input[type=range] {
            -webkit-appearance: none;
            appearance: none;
            width: 50vh; /* Width becomes height when rotated */
            height: 4px;
            background: #222;
            outline: none;
            /* Rotate to make it vertical */
            transform: rotate(-90deg);
            cursor: pointer;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 30px;
            height: 15px;
            background: var(--alert-color);
            border: 1px solid white;
            cursor: pointer;
        }

        @keyframes layerShift {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <a href="convertible-convergence.html" class="back-btn">← Back</a>

    <div class="plan-viewport">
        <div class="plan-layer active" id="layer-3">
            <div class="placeholder-box">
                <img src="Recourses/Drawings/Level2.jpg" />
            </div>
        </div>
        <div class="plan-layer" id="layer-2">
            <div class="placeholder-box">
                <img src="Recourses/Drawings/Level1.jpg" />
            </div>
        </div>
        <div class="plan-layer" id="layer-1">
            <div class="placeholder-box">
                <img src="Recourses/Drawings/Level0.jpg" />
            </div>
        </div>
        <div class="plan-layer" id="layer-0">
            <div class="placeholder-box">
                <img src="Recourses/Drawings/Level-1.jpg" />
            </div>
        </div>
    </div>

    <div id="lightbox" class="hidden">
         <div class="viewer-container">
      <img id="zoomed-image" src="" alt="Plan View">
    
         <button id="prev-btn" class="nav-arrow left">←</button>
         <button id="next-btn" class="nav-arrow right">→</button>

          <button id="close-btn">×</button>
        </div>
    </div>

    <div class="info-panel">
        <h2>Floorplans</h2>
        <p>
            Vertical articulation of the internal convergence. 
            <br><br>
            Use the control rail on the right to toggle between structural levels. Each plane represents a calculated slice of the dynamic facade's interior logic.
        </p>
    </div>

    <div class="slider-wrapper">
        <div class="slider-labels">
            <span class="label" data-index="3">2</span>
            <span class="label" data-index="2">1</span>
            <span class="label" data-index="1">0</span>
            <span class="label" data-index="0">-1</span>
        </div>
        
        <input type="range" min="0" max="3" value="3" step="1" id="levelSlider">
    </div>

    <script>
        const slider = document.getElementById('levelSlider');
        const layers = document.querySelectorAll('.plan-layer');
        const labels = document.querySelectorAll('.label');

        function updateView(val) {
            // Toggle Layers
            layers.forEach(layer => layer.classList.remove('active'));
            const targetLayer = document.getElementById(`layer-${val}`);
            if(targetLayer) targetLayer.classList.add('active');
            
            // Toggle Label Highlights
            labels.forEach(label => {
                label.classList.remove('active');
                if(label.getAttribute('data-index') === val) {
                    label.classList.add('active');
                }
            });
        }

        slider.addEventListener('input', (e) => {
            updateView(e.target.value);
        });

        // Initial state
        updateView("3");


        
    </script>
</body>
</html>